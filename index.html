<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üëÄüî•üí•–ö–∞–∑–∏–Ω–æ 777üëÄüî•üí•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .code-container {
            background-color: #2d2d2d;
            color: #2d2d2d; /* Changed for better readability */
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            white-space: pre;
            overflow-x: auto;
            position: relative;
        }
        .copy-button, .download-button {
            margin-top: 10px;
            background-color: #2d2d2d;
            border: 1px solid #f8f8f2;
            color: #f8f8f2;
            cursor: pointer;
            padding: 5px 10px;
        }
        select {
            margin-top: 20px;
        }
        .preview {
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
        }
        .file-preview img {
            width: 100%;
            max-width: 300px;
            margin-top: 10px;
        }
        .file-preview a {
            display: block;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    –í—ã–±–µ—Ä–∏ —Ñ–æ—Ä–º—É –∏–ª–∏ —á–µ—Ç –¥—Ä—É–≥–æ–µ.. :<select id="codeSelector" onchange="switchCode()">
        <option value="version1">LoginForm</option>
        <option value="version2">RegisterForm</option>
        <option value="version3">UnitTests</option>
        <option value="version4">VSDX && WORD</option>
    </select>
    <button class="copy-button" onclick="copyCode()">Copy All</button>
    <button id="downloadButton" class="download-button" style="display: none;" onclick="downloadFile()">Download</button>
    <a href="https://demo.statuxia.tech/" align="right">–ê–Ω–æ–Ω–∏–º—É—Å –ß–∞—Ç–∏—É—Å</a>
    <div id="filePreview" class="preview file-preview" style="display: none;"></div>
    <div id="codeDisplay" class="code-container"></div>

    <script>
        const codeVersions = {
            version1: `
using System;
using System.Data.SqlClient;
using System.Windows.Forms;

namespace gubar
{
    public partial class LoginForm : Form
    {
        public LoginForm()
        {
            InitializeComponent();
        }
        public void button2Click(object sender, EventArgs e)
        {
            SqlConnection conn = new SqlConnection(@"Data Source=TEXPY\\SQLEXPRESS;Initial Catalog=demo;Integrated Security=True;");
            conn.Open();

            string query = "SELECT * FROM users WHERE login=@Login AND password=@Password";

            try
            {
                SqlCommand command = new SqlCommand(query, conn);
                command.Parameters.AddWithValue("@Login", text_Login.Text);
                command.Parameters.AddWithValue("@Password", text_Pass.Text);

                using (SqlDataReader reader = command.ExecuteReader())
                {
                    if (reader.HasRows)
                    {
                        reader.Read();
                        string role = reader["type"].ToString();

                        Form formx;
                        switch (role)
                        {
                            case "–ú–µ–Ω–µ–¥–∂–µ—Ä":
                                formx = new ManagerForm();
                                break;
                            case "–ú–∞—Å—Ç–µ—Ä":
                                formx = new MasterForm();
                                break;
                            case "–û–ø–µ—Ä–∞—Ç–æ—Ä":
                                formx = new OperatorForm();
                                break;
                            case "–ó–∞–∫–∞–∑—á–∏–∫":
                                formx = new CustomerForm();
                                break;
                            default:
                                MessageBox.Show("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –¥–æ–ª–∂–Ω–æ—Å—Ç—å.");
                                return;
                        }

                        FormManager.ShowForm(formx);
                    }
                    else
                    {
                        MessageBox.Show($"–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å.");
                    }
                }
            }
            catch (Exception error)
            {
                Console.WriteLine("–û—à–∏–±–∫–∞:" + error.Message);
            }
            finally
            {
                conn.Close();
            }
        }

        private void toRegisterButton_Click(object sender, EventArgs e)
        {
            RegisterForm form = new RegisterForm();
            form.Show();
            this.Hide(); 
        }
    }
}
`,
            version2: `
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Data.SqlClient;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace gubar
{
    public partial class RegisterForm : Form
    {
        public RegisterForm()
        {
            InitializeComponent();
        }

        private void registerButton_Click(object sender, EventArgs e)
        {
            string fio = text_fio.Text;
            string phone = text_phone.Text;
            string login = text_login.Text;
            string password = text_password.Text;

            if (string.IsNullOrWhiteSpace(fio) || string.IsNullOrWhiteSpace(phone) ||
                string.IsNullOrWhiteSpace(login) || string.IsNullOrWhiteSpace(password))
            {
                MessageBox.Show("–í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã.");
                return;
            }

            string connectionString = @"Data Source=TEXPY\\SQLEXPRESS;Initial Catalog=demo;Integrated Security=True;";
            string query = "INSERT INTO users (fio, phone, login, password, type) VALUES (@Fio, @Phone, @Login, @Password, '–ó–∞–∫–∞–∑—á–∏–∫')";

            using (SqlConnection conn = new SqlConnection(connectionString))
            {
                SqlCommand command = new SqlCommand(query, conn);
                command.Parameters.AddWithValue("@Fio", fio);
                command.Parameters.AddWithValue("@Phone", phone);
                command.Parameters.AddWithValue("@Login", login);
                command.Parameters.AddWithValue("@Password", password);

                try
                {
                    conn.Open();
                    int result = command.ExecuteNonQuery();

                    if (result > 0)
                    {
                        MessageBox.Show("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ.");

                        this.Hide();

                        LoginForm loginForm = new LoginForm();
                        loginForm.ShowDialog();

                        this.Close();
                    }
                    else
                    {
                        MessageBox.Show("–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.");
                    }
                }
                catch (Exception ex)
                {
                    MessageBox.Show("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: " + ex.Message);
                }
            }
        }

        private void button1_Click(object sender, EventArgs e)
        {
            this.Hide();
            LoginForm loginForm = new LoginForm();
            loginForm.ShowDialog();
            this.Close();
        }

        private void RegisterForm_FormClosing(object sender, FormClosingEventArgs e)
        {
            Application.Exit();
        }

    }
}
`,
            version3: `
using gubar; //–∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ—ë –ø—Ä–æ–µ–∫—Ç –ø–æ—Å–ª–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∏–∂–µ
using Microsoft.VisualStudio.TestTools.UnitTesting;


// –¢—ã–∫–∞–µ–º –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ü–ö–ú, –Ω–∞—Ö–æ–¥–∏–º –¥–æ–±–∞–≤–∏—Ç—å, —Ç—ã–∫–∞–µ–º "–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç", –∑–∞—Ç–µ–º —Ç—ã–∫–∞–µ–º –ü—Ä–æ–µ–∫—Ç –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (.NET Framework)
// –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞–≤–∏–º –ª—é–±–æ–µ. –ó–∞—Ç–µ–º, –µ–±–∞—à–∏–º –∑–Ω–∞—á–∏—Ç—Å—è, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —É –Ω–∞—Å –≤ –æ–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª–µ —Ä–µ—à–µ–Ω–∏–π.
// –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –Ω–∞–∂–∞–≤ –ü–ö–ú –Ω–∞ UnitTestProject1 (—ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω–æ —Ç–∞–∫–æ–µ.) –∏ –Ω–∞—Ö–æ–¥–∏–º —Ç–∞–º "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"
// –ò —Å—Ç–∞–≤–∏–º —Ç–∞–º –≥–∞–ª–æ—á–∫—É –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç –æ–∫–æ–Ω—á–µ–Ω. 
// –í—Ç–æ—Ä–æ–π –ø—É–Ω–∫—Ç. –ù–∞–∂–∏–º–∞–µ–º –≤ –Ω–∞—à–µ–º —ç—Ç–æ–º UnitTestProject1 –Ω–∞ "–°—Å—ã–ª–∫–∏" –∏ –∂–º—ë–º "–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏". –¢–∞–º –≤ –æ–∫–Ω–µ, –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ "–ü—Ä–æ–µ–∫—Ç—ã" –∏ –¥–æ–∞–±–≤–∏—Ç—å –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å!!!
// –¢–∞–∫ –∂–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É System.Windows.Forms —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à–∏ —Ñ–æ—Ä–º—ã. –ï—Å–ª–∏ –≤—ã –≤—Å—ë —Å–¥–µ–ª–∞–ª–∏ –≤–µ—Ä–Ω–æ -  –≤—ã –º–æ–ª–æ–¥—Ü—ã, –µ—Å–ª–∏ –Ω–µ—Ç - –∞–Ω–ª–∞–∫ :)
// –¢–∞–∫ –∂–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–µ –∑–∞–±—ã—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –∏ —Ñ–æ—Ä–º—ã –Ω–∞ PUBLIC –≤ .Designer –≤–∞—à–µ–π —Ñ–æ—Ä–º—ã.
// –ê —Ç–µ–ø–µ—Ä—å —Å–º–æ—Ç—Ä–∏—Ç–µ, —Å–≤–µ—Ä—Ö—É –µ—Å—Ç—å –≤–∫–ª–∞–¥–∫–∞ "–¢–µ—Å—Ç" —Ç–∞–º –∂–º—è–∫–∞–µ—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã"  –∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –µ—Å–ª–∏ –≤—ã –≤—Å—ë –≤–µ—Ä–Ω–æ –Ω–∞–ø–∏—Å–∞–ª–∏.


namespace UnitTestProject1
{
    [TestClass]
    public class UnitTest1
    {
        [TestMethod]
        public void TestMethod1()//–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å
        {
            {
                var loginForm = new LoginForm();
                loginForm.text_Login.Text = "login1";// –¢–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Ö–æ–¥–∞
                loginForm.text_Pass.Text = "pass1";// –¢–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Ö–æ–¥–∞
                loginForm.button2Click(null, null);//"–ù–∞–∂–∞—Ç–∏–µ" –Ω–∞ –∫–Ω–æ–ø–∫—É
                Assert.IsFalse(loginForm.Visible);

            }
        }
        [TestMethod]
        public void TestMethod2() // NE–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å
        {
            var loginForm = new LoginForm();
            loginForm.text_Login.Text = "123"; // –¢–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Ö–æ–¥–∞
            loginForm.text_Pass.Text = "123"; // –¢–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Ö–æ–¥–∞
            loginForm.button2Click(null, null); // "–ù–∞–∂–∞—Ç–∏–µ" –Ω–∞ –∫–Ω–æ–ø–∫—É
            Assert.IsFalse(loginForm.Visible);
        }
    }
}

                `,
            version4: [
                { name: 'functionSchema.vsdx', type: 'file', content: '–°—Ö–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–∏' },
                { name: 'ProgrammSchema.vsdx', type: 'file', content: '–°—Ö–µ–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã' },
                { name: 'ERDiag.vsdx', type: 'file', content: 'ER-–î–ò–ê–ì–†–ê–ú–ú–ê' },
                { name: 'ProgrammUpdateExamples.docx', type: 'file', content: '–£–ª—É—á—à–µ–Ω–∏–µ –ü–û' },
                { name: 'AdminRukovod.docx', type: 'file', content: '–£–ª—É—á—à–µ–Ω–∏–µ –ü–û' },
                { name: 'Specification.docx', type: 'file', content: '–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è' },
                { name: 'FIGURES_VISIO.png', type: 'image', src: 'FIGURES_VISIO.png' },
                { name: 'FIGURES_VISIO2.png', type: 'image', src: 'FIGURES_VISIO2.png' },
                { name: 'GOST_VISIO.pdf', type: 'pdf', src: 'GOST_VISIO.pdf' },
                { name: 'PrimaryKEYS_VISIO.png', type: 'image', src: 'PrimaryKEYS_VISIO.png' }
                // –¥–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã
            ]
        };

        function switchCode() {
            const selectedVersion = document.getElementById('codeSelector').value;
            const codeDisplay = document.getElementById('codeDisplay');
            const downloadButton = document.getElementById('downloadButton');
            const filePreview = document.getElementById('filePreview');

            if (selectedVersion === 'version4') {
                filePreview.innerHTML = codeVersions[selectedVersion].map(item => {
                    if (item.type === 'image') {
                        return `<img src="${item.src}" alt="${item.name}" class="file-preview-img">`;
                    } else if (item.type === 'pdf') {
                        return `<a href="${item.src}" target="_blank">${item.name}</a>`;
                    } else if (item.type === 'file') {
                        return `<a href="#" onclick="downloadFile('${item.name}')">${item.name}</a>`;
                    } else {
                        return '';
                    }
                }).join('');
                codeDisplay.innerText = '';
                downloadButton.style.display = 'none';
                filePreview.style.display = 'block';
            } else {
                if (selectedVersion === 'version1' || selectedVersion === 'version2') {
                    const imageSrc = selectedVersion === 'version1' ? 'LoginForm.png' : 'RegisterForm.png';
                    codeDisplay.innerHTML = `<img src="${imageSrc}" alt="${selectedVersion} Image" style="width:100%;max-width:300px;"><pre>${codeVersions[selectedVersion]}</pre>`;
                } else {
                    codeDisplay.innerHTML = `<pre>${codeVersions[selectedVersion]}</pre>`;
                }
                downloadButton.style.display = 'inline-block';
                filePreview.style.display = 'none';
            }
        }

        function copyCode() {
            const codeContainer = document.getElementById('codeDisplay');
            const range = document.createRange();
            range.selectNodeContents(codeContainer);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);

            try {
                document.execCommand('copy');
                alert('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!');
            } catch (err) {
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ');
            }

            selection.removeAllRanges();
        }

        function downloadFile(fileName) {
            const file = codeVersions.version4.find(f => f.name === fileName);
            const blob = new Blob([file.content], { type: 'application/octet-stream' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = fileName;
            link.click();
        }

        switchCode();
    </script>
</body>
</html>
